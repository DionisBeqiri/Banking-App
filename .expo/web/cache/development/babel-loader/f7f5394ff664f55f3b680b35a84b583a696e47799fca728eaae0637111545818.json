{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport apiData from \"../api/api.json\";\nimport fs from 'fs';\nexport default function SendMoneyScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    amount = _useState4[0],\n    setAmount = _useState4[1];\n  var sendMoney = function sendMoney() {\n    var amt = parseFloat(amount);\n    if (!name || !amount || isNaN(amt)) {\n      return Alert.alert('Error', 'Enter valid name and amount.');\n    }\n    if (amt > apiData.balance) {\n      return Alert.alert('Error', 'Insufficient balance.');\n    }\n    apiData.balance -= amt;\n    apiData.transactions.push({\n      id: Date.now(),\n      name: name,\n      amount: amt,\n      date: new Date().toISOString()\n    });\n    try {\n      fs.writeFileSync('./src/api/api.json', JSON.stringify(apiData, null, 2));\n      Alert.alert('Success', \"Sent $\" + amt + \" to \" + name);\n      setName('');\n      setAmount('');\n      navigation.navigate('Transactions');\n    } catch (err) {\n      Alert.alert('Error', 'Failed to save transaction.');\n      console.error(err);\n    }\n  };\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Text, {\n    style: styles.label\n  }, \"Send To:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Recipient Name\",\n    value: name,\n    onChangeText: setName\n  }), React.createElement(Text, {\n    style: styles.label\n  }, \"Amount:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Amount\",\n    value: amount,\n    onChangeText: setAmount,\n    keyboardType: \"numeric\"\n  }), React.createElement(Button, {\n    title: \"Send Money\",\n    onPress: sendMoney\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  label: {\n    fontSize: 18,\n    marginTop: 20\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 5,\n    padding: 10,\n    marginTop: 5\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","Alert","StyleSheet","apiData","fs","SendMoneyScreen","_ref","navigation","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","amount","setAmount","sendMoney","amt","parseFloat","isNaN","alert","balance","transactions","push","id","Date","now","date","toISOString","writeFileSync","JSON","stringify","navigate","err","console","error","createElement","style","styles","container","label","input","placeholder","value","onChangeText","keyboardType","title","onPress","create","flex","padding","fontSize","marginTop","borderWidth","borderColor","borderRadius"],"sources":["C:/Users/pc/Desktop/React/rn-starter/src/screens/SendMoneyScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TextInput, Button, Alert, StyleSheet } from 'react-native';\r\nimport apiData from '../api/api.json';\r\nimport fs from 'fs'; // Node file system (if using web, use localStorage)\r\n\r\nexport default function SendMoneyScreen({ navigation }) {\r\n  const [name, setName] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n\r\n  const sendMoney = () => {\r\n    const amt = parseFloat(amount);\r\n    if (!name || !amount || isNaN(amt)) {\r\n      return Alert.alert('Error', 'Enter valid name and amount.');\r\n    }\r\n\r\n    if (amt > apiData.balance) {\r\n      return Alert.alert('Error', 'Insufficient balance.');\r\n    }\r\n\r\n    // Deduct balance\r\n    apiData.balance -= amt;\r\n\r\n    // Add transaction\r\n    apiData.transactions.push({\r\n      id: Date.now(),\r\n      name,\r\n      amount: amt,\r\n      date: new Date().toISOString(),\r\n    });\r\n\r\n    // Save to api.json (Node only, not Expo web)\r\n    try {\r\n      fs.writeFileSync('./src/api/api.json', JSON.stringify(apiData, null, 2));\r\n      Alert.alert('Success', `Sent $${amt} to ${name}`);\r\n      setName('');\r\n      setAmount('');\r\n      navigation.navigate('Transactions'); // go to transactions screen\r\n    } catch (err) {\r\n      Alert.alert('Error', 'Failed to save transaction.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.label}>Send To:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Recipient Name\"\r\n        value={name}\r\n        onChangeText={setName}\r\n      />\r\n      <Text style={styles.label}>Amount:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Amount\"\r\n        value={amount}\r\n        onChangeText={setAmount}\r\n        keyboardType=\"numeric\"\r\n      />\r\n      <Button title=\"Send Money\" onPress={sendMoney} />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, padding: 20 },\r\n  label: { fontSize: 18, marginTop: 20 },\r\n  input: {\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginTop: 5,\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}